# Simula√ß√£o de Processo de Enchimento, Mistura, Aquecimento e Esvaziamento de Tanque

Este projeto simula o controle completo de um **tanque industrial** que passa pelas etapas de enchimento com dois l√≠quidos, mistura, aquecimento e esvaziamento, utilizando sensores, contadores, atuadores e l√≥gica sequencial.

## Descri√ß√£o do Funcionamento

O sistema controla as seguintes etapas:

1. **Enchimento**: duas bombas preenchem o tanque, cada uma com um tipo de l√≠quido.
2. **Mistura**: um **mixer** agita o conte√∫do do tanque por um tempo determinado.
3. **Aquecimento**: o l√≠quido √© aquecido at√© atingir uma temperatura definida.
4. **Esvaziamento**: uma bomba retira o l√≠quido do tanque.

### Equipamentos e Componentes Utilizados

- **2 Bombas de Enchimento** (Bomba 1 e Bomba 2)
- **1 Bomba de Esvaziamento**
- **1 Mixer** para agitar o conte√∫do
- **1 Aquecedor**
- **Sensor de N√≠vel Inferior**: detecta se o tanque est√° **vazio**
- **Sensor de N√≠vel Superior**: detecta se o tanque est√° **cheio**
- **Sensor de Temperatura**: identifica se a temperatura atingiu **30¬∞C**
- **Contadores de Pulso**:
  - Cada bomba enche o tanque baseado em pulsos.
  - A capacidade total do tanque √© definida com base nos litros configurados.
  - H√° tamb√©m um contador para o **esvaziamento**, que mede a sa√≠da em pulsos.
- **Chave Seletora de Ciclos**: para selecionar a quantidade de ciclos do processo.
- **Display BCD (Sa√≠da O:4)**: para mostrar o volume atual do tanque em litros.

### LEDs Indicadores

- üü¢ **RUN**: indica que o processo est√° em execu√ß√£o.
- üü° **ENCHENDO**: indica que o tanque est√° sendo preenchido.
- üî¥ **FULL**: indica que o tanque est√° completamente cheio.

### Comandos

- **Bot√£o Start**: inicia o processo completo.
- **Bot√£o Stop**: para o processo (algumas etapas n√£o s√£o interrompidas).
- **Bot√£o Enter**: confirma os par√¢metros de entrada (litros e n√∫mero de ciclos).

## Novas Funcionalidades

### Controle de Repeti√ß√£o com Chave Seletora

- Uma **chave seletora** permite definir **quantas vezes o processo completo ser√° repetido**:
  - üîò **Posi√ß√£o A**: 1 ciclo
  - üîò **Posi√ß√£o B**: 3 ciclos
  - üîò **Posi√ß√£o C**: 5 ciclos
- O sistema executa todas as etapas para cada ciclo e **encerra automaticamente** ap√≥s completar o n√∫mero programado.

### Defini√ß√£o de Quantidade de Litros

- Um **valor num√©rico em BCD** √© inserido atrav√©s de um painel ou entrada digital.
- Esse valor representa **quantos litros devem ser colocados no tanque**.
- Ao pressionar o **Bot√£o Enter**, o valor √©:
  - Convertido de BCD para inteiro (`FRD`)
  - Armazenado em uma vari√°vel de processo
  - **Dividido por 2**, e cada bomba enche **metade** da quantidade definida

### Display Digital

- Um **display conectado √† sa√≠da BCD** mostra **quantos litros h√° atualmente no tanque**.
- Esse valor √©:
  - Calculado com base nos pulsos de entrada das bombas
  - Atualizado a cada ciclo de enchimento
  - Convertido de inteiro para BCD (`TOD`) antes de ser enviado √† sa√≠da

## L√≥gica do Processo

1. O operador define:
   - Quantidade de **litros a serem colocados**
   - Quantidade de **ciclos completos** a serem executados
   - Pressiona o **Bot√£o Enter** para confirmar
2. Ao pressionar **Start**, o processo come√ßa:
   - As bombas enchem metade da quantidade cada
   - O mixer √© ativado por **4 segundos**
   - O aquecedor liga at√© a temperatura atingir **25¬∞C**
   - O l√≠quido √© esvaziado por pulsos e sensores
   - O valor atual de litros √© mostrado no **display digital**
3. O processo se repete at√© atingir o n√∫mero de ciclos definidos.
4. Ao final, o sistema **desliga automaticamente**.

## Objetivo

Este projeto tem como finalidade demonstrar o controle completo de um processo industrial com:

- Enchimento autom√°tico baseado em valor configurado em litros
- Distribui√ß√£o igual entre duas bombas
- Mistura temporizada do conte√∫do
- Aquecimento baseado em leitura de temperatura
- Esvaziamento controlado por pulsos e sensores
- Indica√ß√£o clara de estados com LEDs e display digital
- Repeti√ß√£o do processo baseado em chave seletora de ciclos
- Confirma√ß√£o de par√¢metros com bot√£o ENTER
- L√≥gica sequencial com possibilidade futura de mem√≥ria de processo
